define(["jquery"],function(r){return{filterEvent:function(s,e,l,t){r(e).change(function(){"#courseTable"===t&&r("#courses_clear_filters").css("visibility","visible");var e,a,c,i=r("input[name="+s+"]:checked"),n=r(t).dataTable();n=n,e=l,a=[],c="",r(i=i).each(function(){var e=r(this).val();c=""===e?"^(?![\\s\\S])":","+(e=e.replace(/[-[\]{}()*+!<=:?./\\^$|#\s,]/g,"\\$&"))+"$|^"+e+",|,"+e+",|^"+e+"$",a.push(c)}),i=a.join("|"),n.fnFilter(i,e,!0,!1,!1,!0)})},searchTable:function(i,n,s,e){var a,c=0;function l(){"#courseTable"===i&&r("#courses_clear_filters").css("visibility","visible");var e=r(i).dataTable(),a=r(s)[0].value,c=r(n)[0].value;"-1"==c?r(i).DataTable().search(a).draw():e.fnFilter(a,c,!0,!0,!1,!0)}e.forEach(function(e){r(n).append(r("<option>",{value:c,text:e.name})),c++}),r(s).on("keyup",l),r(n).on("click",function(){a=this.value}),r(n).on("change",function(){r(i).DataTable().column(a).search(""),l()})},coursesClearFilters:function(e){r("#courses_clear_filters").on("click",function(){r(e).DataTable().search("").columns().search("").draw(),r("#course_table_search_input")[0].value="",r("input[name^=courses_level]:checked").prop("checked",!1),r(this).css("visibility","hidden")})}}});