/**
 * This modules provides functionality to search the html tables
 * with a specific Input Term
 *
 * It is modular in respect to the given table (body)
 *
 * @module     tool_supporter/table_filter
 * @copyright  2019 Klara Saary
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since      3.1.1
 */
define("tool_supporter/table_filter",["jquery"],(function($){return{filterEvent:function(checkboxName,FormInput,column,tableID){$(FormInput).change((function(){"#courseTable"===tableID&&$("#courses_clear_filters").css("visibility","visible"),function(checkedElements,otable,column){var filterElements=[],stringValue="";$(checkedElements).each((function(){var val=$(this).val();""===val?stringValue="^(?![\\s\\S])":(val=val.replace(/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g,"\\$&"),stringValue=","+val+"$|^"+val+",|,"+val+",|^"+val+"$"),filterElements.push(stringValue)}));var filter=filterElements.join("|");otable.fnFilter(filter,column,!0,!1,!1,!0)}($("input[name="+checkboxName+"]:checked"),$(tableID).dataTable(),column)}))},searchTable:function(tableID,columnDropdownID,searchFieldID,columns){var previousColumn,counter=0;function actuallySearch(){"#courseTable"===tableID&&$("#courses_clear_filters").css("visibility","visible");var otable=$(tableID).dataTable(),searchValue=$(searchFieldID)[0].value,columnID=$(columnDropdownID)[0].value;"-1"==columnID?$(tableID).DataTable().search(searchValue).draw():otable.fnFilter(searchValue,columnID,!0,!0,!1,!0)}columns.forEach((function(element){$(columnDropdownID).append($("<option>",{value:counter,text:element.name})),counter++})),$(searchFieldID).on("keyup",actuallySearch),$(columnDropdownID).on("click",(function(){previousColumn=this.value})),$(columnDropdownID).on("change",(function(){$(tableID).DataTable().column(previousColumn).search(""),actuallySearch()}))},coursesClearFilters:function(tableID){$("#courses_clear_filters").on("click",(function(){$(tableID).DataTable().search("").columns().search("").draw(),$("#course_table_search_input")[0].value="",$("input[name^=courses_level]:checked").prop("checked",!1),$(this).css("visibility","hidden")}))}}}));

//# sourceMappingURL=table_filter.min.js.map